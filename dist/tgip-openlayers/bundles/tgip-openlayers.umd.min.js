!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs"),require("handsmap-map-client/openlayers/ProjThree"),require("ngx-swiper-wrapper"),require("handsmap-map-client/openlayers/Map"),require("handsmap-map-client/openlayers/View"),require("ol/style"),require("handsmap-map-client/openlayers/util"),require("handsmap-map-client/openlayers/layer"),require("@angular/core"),require("ol/Overlay.js")):"function"==typeof define&&define.amd?define("tgip-openlayers",["exports","rxjs","handsmap-map-client/openlayers/ProjThree","ngx-swiper-wrapper","handsmap-map-client/openlayers/Map","handsmap-map-client/openlayers/View","ol/style","handsmap-map-client/openlayers/util","handsmap-map-client/openlayers/layer","@angular/core","ol/Overlay.js"],t):t(e["tgip-openlayers"]={},e.rxjs,e.ProjThree,e.ngxSwiperWrapper,e._Map,e.View,e.style,e.util,e.layer,e.ng.core,e.Overlay)}(this,function(e,t,n,i,o,s,r,l,a,c,p){"use strict";p=p&&p.hasOwnProperty("default")?p["default"]:p;var g=function(){function e(){this.defaultConfig={className:"btn",fullscreen:{on:"./fullScreen-on.svg",off:"./fullScreen-off.svg",icon:""},position:{top:"10px",right:"10px"},size:{width:"50px",height:"50px"}},this.config=this.defaultConfig}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},set:function(e){this._config=Object.assign({},this.defaultConfig,e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var n=this;this.subscription=t.fromEvent(document,"fullscreenchange").subscribe(function(e){console.log(e);var t=!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement);console.log(t),n.config.fullscreen.icon=t?"url('"+n.config.fullscreen.on+"')":"url('"+n.config.fullscreen.off+"')",console.log(n.config.fullscreen.icon)}),this.config.fullscreen.icon="url('"+this.config.fullscreen.on+"')"},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},e.prototype.ngOnChanges=function(e){this.config.icon="url('"+this.config.fullscreen.src+"')"},e.prototype.fullscreenToggle=function(e){void 0===e&&(e=document.documentElement),document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)},e.decorators=[{type:c.Component,args:[{selector:"tgip-ol-full-screen",template:'<button (click)="fullscreenToggle()" \n[style.width]="config.size.width" \n[style.height]="config.size.height"\n[style.top]="config.position.top"\n[style.right]="config.position.right"\nstyle="position:absolute;"\n[style.background]="config.fullscreen.icon"\n[class]="config.className"\n>全屏</button>\n',styles:[""]}]}],e.ctorParameters=function(){return[]},e.propDecorators={configUrl:[{type:c.Input}],config:[{type:c.Input,args:["config"]}]},e}(),f=function(){function e(){this.defaultConfig={className:"btn",icon:"./full-extent-on.svg",position:{bottom:"10px",right:"10px"},size:{width:"50px",height:"50px"}},this._config=this.defaultConfig||{}}return Object.defineProperty(e.prototype,"map",{set:function(e){e&&(console.log("已绑定 map 组件 实例"),this._map=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{set:function(e){e&&(this._config=Object.assign({},this.defaultConfig,e))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.fullExtentToggle=function(){if(this._map){var e=[this._map.config.centerX,this._map.config.centerY];"EPSG:3857"===this._map.config.coordinateSystimSrid&&(e=n.ProjThree.ll2webmerc(e)),this._map.map.animationPanZoom({coordinate:e,zoom:this._map.config.zoom||0,duration:400})}else console.warn("没有传入 map 实例！")},e.decorators=[{type:c.Component,args:[{selector:"tgip-ol-full-extent",template:'<button (click)="fullExtentToggle()"\n[style.width]="_config.size.width"\n[style.height]="_config.size.height"\n[style.bottom]="_config.position.bottom"\n[style.right]="_config.position.right"\nstyle="position:absolute;border: none;"\n[style.background]="_config.icon"\n[class]="_config.className"\n></button>\n',styles:[""]}]}],e.ctorParameters=function(){return[]},e.propDecorators={map:[{type:c.Input,args:["map"]}],config:[{type:c.Input,args:["config"]}],configUrl:[{type:c.Input}]},e}(),d=function(){function e(){this.outer=new c.EventEmitter,this.defaultConfig={backgroundSize:{backgroundSize:"100% 100%"},selectFontBgColor:{bg:"#3385FF",border:"1px solid #3385FF"},unselectFontBgColor:{bg:"none",border:"1px solid"},size:{width:"auto",height:"100px",background:"#fff"},imgSize:{width:"80px",height:"80px"},position:{top:"0px",bottom:"100px",right:"0px"},fontStyle:{bottom:"0",right:"0",color:"#fff",fontSize:"12px"},baseMap:[{src:"url(assets/map.png)",title:"地图",visible:!1,isdisplay:!0,layer:{}},{src:"url(assets/map.png)",title:"地球",visible:!1,isdisplay:!0,layer:{}},{src:"url(assets/map.png)",title:"全景",visible:!1,isdisplay:!0,layer:{}},{src:"url(assets/map.png)",title:"卫星",visible:!1,isdisplay:!0,layer:{}}]},this.config=this.defaultConfig}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},set:function(e){this._config=Object.assign({},this.defaultConfig,e)},enumerable:!0,configurable:!0}),e.prototype.fullscreenToggle=function(t){this.outer.emit(t),this.flag=!0,this.config.baseMap.forEach(function(e){e.title===t.title?e.visible=!0:e.visible=!1})},e.prototype.mouseenter=function(){this.config.baseMap.forEach(function(e){e.isdisplay=!0})},e.prototype.mouseleave=function(){this.flag&&this.config.baseMap.forEach(function(e){!0===e.visible?e.isdisplay=!0:e.isdisplay=!1})},e.prototype.ngOnInit=function(){},e.decorators=[{type:c.Component,args:[{selector:"tgip-ol-switcher-map",template:'<div\n  id="mapType-wrapper"\n  style="position:absolute; z-index: 1;"\n  [style.bottom]="config.position.bottom"\n  [style.right]="config.position.right"\n>\n  <div\n    [style.width]="config.size.width"\n    [style.height]="config.size.height"\n    [style.background]="config.size.background"\n    (mouseenter)="mouseenter()"\n    (mouseleave)="mouseleave()"\n  >\n    <div\n      [style.background]="item.src"\n      [style.background-size]="config.backgroundSize.backgroundSize"\n      style="float:left;background-size: 100% 100%; margin: 10px 10px; position: relative;border: 1px solid;"\n      *ngFor="let item of config.baseMap; let i = index"\n      [style.width]="config.imgSize.width"\n      [ngStyle]="{\n        border:\n          item.visible === false\n            ? config.unselectFontBgColor.border\n            : config.selectFontBgColor.border,\n        display: item.isdisplay === true ? \'block\' : \'none\'\n      }"\n      (click)="fullscreenToggle(item)"\n      [style.height]="config.imgSize.height"\n    >\n      <span\n        style="position: absolute;\n      display: inline-block;\n      padding: 3px 3px 2px 4px;   \n      border-top-left-radius: 2px;"\n        [style.bottom]="config.fontStyle.bottom"\n        [style.right]="config.fontStyle.right"\n        [style.color]="config.fontStyle.color"\n        [style.font-size]="config.fontStyle.fontSize"\n        [ngStyle]="{\n          background:\n            item.visible === false\n              ? config.unselectFontBgColor.bg\n              : config.selectFontBgColor.bg\n        }"\n      >\n        {{ item.title }}</span\n      >\n    </div>\n  </div>\n</div>\n',styles:["#mapType-wrapper{position:absolute;bottom:100px;right:0;z-index:1}#mapType{height:100px;width:auto;cursor:pointer;background-color:red}#mapType .mapTypeCard{height:60px;width:86px;position:absolute;border-radius:2px;top:10px;box-sizing:border-box;border:1px solid rgba(153,153,153,.42);background:url(//webmap1.bdimg.com/wolfman/static/common/images/new/shadow_6bf0ecd.png) 0 0/86px 240px no-repeat}#mapType .mapTypeCard.active,#mapType .mapTypeCard:hover{border:1px solid #3385ff}#mapType .mapTypeCard.active span,#mapType .mapTypeCard:hover span{background-color:#3385ff}#mapType .switch-box{visibility:hidden;position:absolute;width:100%;height:20px;line-height:22px;color:#fff;background:rgba(0,0,0,.5)}#mapType .normal .switch-box p{margin-left:20px}#mapType .switch-box p{display:inline-block;margin-left:25px}#mapType .mapTypeCard span{position:absolute;bottom:0;right:0;display:inline-block;padding:3px 3px 2px 4px;font-size:12px;height:12px;line-height:12px;color:#fff;border-top-left-radius:2px}#mapType .mapTypeCard{background-image:url(//webmap1.bdimg.com/wolfman/static/common/images/new/maptype_8a68f95.png)}#mapType .normal{z-index:1;background-position:0 0;right:202px}#mapType .earth{background-position:0 -181px;right:106px}#mapType .panorama{z-index:3;right:10px;background-image:url(//webmap1.bdimg.com/wolfman/static/common/images/new/maptype_8a68f95.png);background-position:0 -121px;border-left:1px solid rgba(153,153,153,.6)}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={outer:[{type:c.Output}],config:[{type:c.Input,args:["config"]}]},e}(),u=function(){function e(e){this.changeDetectorRef=e,this.outer=new c.EventEmitter,this.defaultConfig={position:{top:"0px",bottom:"100px",right:"0px",left:"0px"},size:{width:"50px",height:"50px"},border:{zoomIn:"1px solid #1296db",zoomOut:"1px solid #1296db",disable:"1px solid #cdcdcd",radius:"5px",cursor:"pointer",uncursor:"no-drop "},zoomIn:{enable:"url(assets/enlarge.png)",disable:"url(assets/enlarge_d.png)",visible:!0},bgStyle:{backgroundrepeat:"no-repeat",backgroundposition:"center",backgroundsize:"100% 100%"},zoomOut:{enable:"url(assets/less.png)",disable:"url(assets/less_d.png)",visible:!0}},this.config=this.defaultConfig}return Object.defineProperty(e.prototype,"map",{set:function(e){e&&(console.log("已绑定 map 实例"),this._map=e,this.initMap())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this._config},set:function(e){this._config=Object.assign({},this.defaultConfig,e)},enumerable:!0,configurable:!0}),e.prototype.changeZoom=function(e){this._map&&this._map.zoomByDelta(e)},e.prototype.initMap=function(){var i=this,o=this._map.getView();o.on("change:resolution",function(e){var t=o.getMaxZoom(),n=o.getMinZoom();o.getZoom()>=t&&(i.config.zoomIn.visible=!1),o.getZoom()<t&&o.getZoom()>n&&(i.config.zoomIn.visible=!0,i.config.zoomOut.visible=!0),o.getZoom()<=n&&(i.config.zoomOut.visible=!1)})},e.prototype.ngOnInit=function(){},e.decorators=[{type:c.Component,args:[{selector:"tgip-ol-zoom",template:'<div\n  class="zoomMap"\n  [style.bottom]="config.position.bottom"\n  [style.right]="config.position.right"\n>\n  <span\n    class="maxZoom"\n    (click)="changeZoom(1)"\n    [ngStyle]="{\n      \'background-image\':\n        config.zoomIn.visible === true\n          ? config.zoomIn.enable\n          : config.zoomIn.disable,\n      \'background-repeat\':\n        config.zoomIn.visible === true\n          ? config.bgStyle.backgroundrepeat\n          : config.bgStyle.backgroundrepeat,\n      \'background-position\':\n        config.zoomIn.visible === true\n          ? config.bgStyle.backgroundposition\n          : config.bgStyle.backgroundposition,\n      \'background-size\':\n        config.zoomIn.visible === true\n          ? config.bgStyle.backgroundsize\n          : config.bgStyle.backgroundsize,\n      border:\n        config.zoomIn.visible === true\n          ? config.border.zoomIn\n          : config.border.disable,\n      cursor:\n        config.zoomIn.visible === true\n          ? config.border.cursor\n          : config.border.uncursor\n    }"\n    [style.width]="config.size.width"\n    [style.height]="config.size.height"\n    [style.line-height]="config.size.height"\n    [style.border]="config.border.zoomIn"\n    [style.border-radius]="config.border.radius"\n  ></span>\n  <span\n    class="minZoom"\n    (click)="changeZoom(-1)"\n    [ngStyle]="{\n      \'background-image\':\n        config.zoomOut.visible === true\n          ? config.zoomOut.enable\n          : config.zoomOut.disable,\n      \'background-repeat\':\n        config.zoomOut.visible === true\n          ? config.bgStyle.backgroundrepeat\n          : config.bgStyle.backgroundrepeat,\n      \'background-position\':\n        config.zoomOut.visible === true\n          ? config.bgStyle.backgroundposition\n          : config.bgStyle.backgroundposition,\n      \'background-size\':\n        config.zoomOut.visible === true\n          ? config.bgStyle.backgroundsize\n          : config.bgStyle.backgroundsize,\n      border:\n        config.zoomOut.visible === true\n          ? config.border.zoomOut\n          : config.border.disable,\n      cursor:\n        config.zoomOut.visible === true\n          ? config.border.cursor\n          : config.border.uncursor\n    }"\n    [style.width]="config.size.width"\n    [style.height]="config.size.height"\n    [style.line-height]="config.size.height"\n    [style.border]="config.border.zoomOut"\n    [style.border-radius]="config.border.radius"\n  ></span>\n</div>\n',styles:[".zoomMap{position:absolute;z-index:1;cursor:pointer}.zoomMap span{display:block;text-align:center}.maxZoom{margin-bottom:10px}"]}]}],e.ctorParameters=function(){return[{type:c.ChangeDetectorRef}]},e.propDecorators={outer:[{type:c.Output}],map:[{type:c.Input,args:["map"]}],mapconfig:[{type:c.ViewChild,args:["myMap"]}],config:[{type:c.Input,args:["config"]}]},e}(),y=function(){function e(){this.hasInit=!1,this.defaultConfig=null,this.config=this.defaultConfig,console.log("第一步",this.config)}return Object.defineProperty(e.prototype,"setConfig",{set:function(e){e&&(this.config=Object.assign({},this.defaultConfig,e),console.log("第3步？",this.config,e),this.initMap(this.config),this.updateVisible())},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){console.log("第二步？",this.config),this.config?this.initMap(this.config):this.configUrl?this.initMap(this.configUrl):console.warn("地图配置为空，请检查配置！")},e.prototype.initMap=function(e){if(console.log("地图初始化开始"),this.hasInit)console.log("地图已经初始化，配置变化不会自动同步");else{this.hasInit=!0;var t=e;this.map=new o.Map({target:"mapContainer",view:s.View.getViewByHmapserver(t)}),this.xyzLayer=a.TileXYZLayer.getTileXYZLayerByHmapserver(t),this.map.addLayer(this.xyzLayer),this.map.showClickCoordinate=!0}},e.prototype.updateVisible=function(){this.map.removeLayer(this.xyzLayer),this.xyzLayer=a.TileXYZLayer.getTileXYZLayerByHmapserver(this.config),this.map.addLayer(this.xyzLayer)},e.prototype.ngOnChanges=function(e){console.log(e)},e.decorators=[{type:c.Component,args:[{selector:"tgip-ol-map",template:'<div id="mapContainer"></div>',styles:["#mapContainer{width:100%;height:100%;right:0;position:absolute}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={setConfig:[{type:c.Input,args:["config"]}],configUrl:[{type:c.Input}]},e}(),h=function(){function e(){this.outer=new c.EventEmitter,this.mySwiper={},this.mutex=!1,this.defaultConfig={},this.config=this.defaultConfig}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},set:function(e){this._config=Object.assign({},this.defaultConfig,e)},enumerable:!0,configurable:!0}),e.prototype.fullscreenToggle=function(t){this.outer.emit(t),!0===this.mutex?this.config.layers.forEach(function(e){e.title===t.title?e.visible=!0:e.visible=!1}):t.visible=!t.visible},e.prototype.ngOnInit=function(){this.mySwiper={direction:"horizontal",grabCursor:!0,loop:!1,slidesPerView:"auto",autoplay:!1,speed:1e3}},e.decorators=[{type:c.Component,args:[{selector:"tgip-ol-layer-control-pc1",template:'<div\n  [style.width]="config.size.width"\n  [style.height]="config.size.height"\n  [class]="config.style.bgClass"\n  [style.background]="config.style.bg.background"\n  [style.border]="config.style.bg.border"\n  [style.color]="config.style.basis.fontColor"\n  style="position:absolute;"\n  [style.top]="config.position.top"\n  [style.left]="config.position.left"\n>\n  <span>\n    <ul [style.padding]="0" [style.margin]="0">\n      <swiper [config]="mySwiper" class="swiper-container">\n        <li\n          *ngFor="let item of config.layers; let i = index"\n          class="swiper-slide"\n          (click)="fullscreenToggle(item)"\n          [style.list-style]="config.style.basis.liststyle"\n          [style.font-size]="config.style.basis.fontSize"\n          [style.float]="config.style.basis.float"\n          [style.width]="config.style.basis.width"\n          [style.height]="config.style.basis.height"\n          [style.text-align]="config.style.basis.textalign"\n          [style.padding]="config.style.basis.padding"\n          style="cursor:pointer"\n        >\n          <div\n            [ngStyle]="{\n              background:\n                item.visible === true\n                  ? config.style.select.bgColor\n                  : config.style.unselect.bgColor\n            }"\n            style="width:100%;height:100%"\n            [style.border-radius]="config.style.basis.borderRadius"\n          >\n            <i [ngStyle]="{ display: \'block\' }">\n              <img\n                src="{{ item.select.src }}"\n                [style.width]="config.singleSize.width"\n                [style.height]="config.singleSize.height"\n              />\n            </i>\n            <span [style.line-height]="config.style.basis.lineheight">\n              {{ item.title }}</span\n            >\n          </div>\n        </li>\n      </swiper>\n    </ul>\n  </span>\n</div>\n',styles:[""]}]}],e.ctorParameters=function(){return[]},e.propDecorators={outer:[{type:c.Output}],config:[{type:c.Input,args:["config"]}]},e}(),b=function(){function e(){this.outer=new c.EventEmitter,this.mySwiper={},this.mutex=!1,this.defaultConfig={},this.config=this.defaultConfig}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},set:function(e){this._config=Object.assign({},this.defaultConfig,e)},enumerable:!0,configurable:!0}),e.prototype.fullscreenToggle=function(t){this.outer.emit(t),!0===this.mutex?this.config.layers.forEach(function(e){e.title===t.title?e.visible=!0:e.visible=!1}):t.visible=!t.visible},e.prototype.ngOnInit=function(){this.mySwiper={direction:"horizontal",grabCursor:!0,loop:!1,slidesPerView:"auto",autoplay:!1,speed:1e3}},e.decorators=[{type:c.Component,args:[{selector:"tgip-ol-layer-control-pc2",template:'<div\n  [style.width]="config.size.width"\n  [style.height]="config.size.height"\n  [class]="config.style.bgClass"\n  [style.background]="config.style.bg.background"\n  [style.border]="config.style.bg.border"\n  [style.color]="config.style.basis.fontColor"\n  style="position:absolute;"\n  [style.top]="config.position.top"\n  [style.left]="config.position.left"\n>\n  <span>\n    <ul [style.padding]="0" [style.margin]="0">\n      <swiper [config]="mySwiper" class="swiper-container">\n        <li\n          *ngFor="let item of config.layers; let i = index"\n          class="swiper-slide"\n          (click)="fullscreenToggle(item)"\n          [style.list-style]="config.style.basis.liststyle"\n          [style.font-size]="config.style.basis.fontSize"\n          [style.float]="config.style.basis.float"\n          [style.width]="config.style.basis.width"\n          [style.height]="config.style.basis.height"\n          [style.text-align]="config.style.basis.textalign"\n          [style.padding]="config.style.basis.padding"\n          style="cursor:pointer; border: 1px solid #325b9e; border-left: none"\n        >\n          <div\n            [ngStyle]="{\n              background:\n                item.visible === true\n                  ? config.style.select.bgColor\n                  : config.style.unselect.bgColor\n            }"\n            style="width:100%;height:100%"\n            [style.border-radius]="config.style.basis.borderRadius"\n            [style.line-height]="config.style.basis.height"\n          >\n            <i\n              [ngStyle]="{ float: \'left\' }"\n              [style.width]="config.singleSize.width"\n              [style.height]="config.singleSize.height"\n              [style.padding]="config.singleSize.padding"\n            >\n              <img\n                src="{{ item.select.src }}"\n                [style.width]="config.singleSize.width"\n                [style.height]="config.singleSize.height"\n              />\n            </i>\n            <span [style.line-height]="config.style.basis.lineheight">\n              {{ item.title }}</span\n            >\n          </div>\n        </li>\n      </swiper>\n    </ul>\n  </span>\n</div>\n',styles:[""]}]}],e.ctorParameters=function(){return[]},e.propDecorators={outer:[{type:c.Output}],config:[{type:c.Input,args:["config"]}]},e}(),m=function(){function e(){this.outer=new c.EventEmitter,this.mySwiper={},this.mutex=!1,this.flag=!1,this.sum=0,this.hide=!1,this.defaultConfig={size:{width:"50px",height:"50px"},position:{top:"10px",left:"10px",right:"0px"},cmenuPosition:{top:"60px",left:"10px",right:"20px"},cmenutop:{width:"40px",height:"40px",border:"1px solid #005ab4",color:"#005ab4",right:"0px",top:"-40px",background:"white",borderbottom:"none",backgroundImg:"url(assets/close_map.png)",backgroundrepeat:"no-repeat",backgroundposition:"center"},cmenubody:{width:"auto",height:"300px",border:"1px solid #005ab4",background:"white",borderbottom:"none",borderradius:"5px 0px 0px 0px"},fontStyle:{width:"120px",fontSize:"18px"},singleSize:{width:"30px",height:"30px",padding:"10px"},select:{width:"30px",height:"30px",src:"url(assets/select.png)"},bgStyle:{backgroundrepeat:"no-repeat",backgroundposition:"center",backgroundsize:"100% 100%"},unselect:{src:"url(assets/no_select.png)"},background:{backgroundsize:"100%"},layers:[{title:"景区",visible:!1,src:"url(assets/show_map.png)"},{title:"乡村旅游区",visible:!1,src:"url(assets/show_map.png)"},{title:"新业态",visible:!1,src:"url(assets/show_map.png)"},{title:"餐饮",visible:!1,src:"url(assets/show_map.png)"},{title:"旅游酒店",visible:!1,src:"url(assets/show_map.png)"},{title:"主题住宿",visible:!1,src:"url(assets/show_map.png)"}]},this.config=this.defaultConfig}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},set:function(e){this._config=Object.assign({},this.defaultConfig,e)},enumerable:!0,configurable:!0}),e.prototype.show=function(){this.hide=!0},e.prototype.vanish=function(){this.hide=!1},e.prototype.showitem=function(t){var n=this;this.outer.emit(t),!0===this.mutex?this.config.layers.forEach(function(e){e.title===t.title?e.visible=!0:e.visible=!1}):t.visible=!t.visible,this.sum=0,this.config.layers.forEach(function(e){!0===e.visible&&(n.sum++,n.sum===n.config.layers.length?n.flag=!0:n.flag=!1)})},e.prototype.allitem=function(){this.flag=!0,this.config.layers.forEach(function(e){e.visible=!0})},e.prototype.cancelitem=function(){this.flag=!1,this.config.layers.forEach(function(e){e.visible=!1})},e.prototype.ngOnInit=function(){this.mySwiper={direction:"vertical",slidesPerView:"auto",freeMode:!0,scrollbar:{el:".swiper-scrollbar"},mousewheel:!0}},e.decorators=[{type:c.Component,args:[{selector:"tgip-ol-layer-control-pc3",template:'<div\n  class="imgbox"\n  style="position:absolute;overflow: hidden;"\n  [style.top]="config.position.top"\n  [style.right]="config.position.right"\n  [style.width]="config.size.width"\n  [style.height]="config.size.height"\n  (click)="show()"\n  [ngStyle]="{\n    display: hide === true ? \'none\' : \'block\'\n  }"\n>\n  <svg>\n    <image\n      id="image0"\n      width="50"\n      height="50"\n      x="0"\n      y="0"\n      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAABGdBTUEAALGPC/xhBQAAACBjSFJN\nAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACIlBMVEX///8A//8AgIAAgP8A\nVaoAqv8AgL8AZswAgKoAbbYAYL8AccYAXbkAar8AYrEAW7YAVaoAVaoAZrsAabQAXrwAZrMAYbYA\ncaoAX7IAWrUAWrQAWrUAY6oAYJ8AWrQ7gMWRt97A1uy70+uNtd0yesIGXbVdls/M3vD////E2O1X\nks0EXLUXaLp/rNno8Pjk7fd7qdgVZ7qhwuP5+/34+vygweMDW7RTj8zC1+1Wkc1ChMfg6vXi7PY1\nfMNuodTz9/tAg8Y2fMO50er3+fyPtt4WaLq+1Ov6+/2Xu+Aba7snc78CW7TD2O38/f6fwOIgbr0U\nZrkJX7aHsdv+/v5sn9MIX7ZGh8jI2+79/f6mxeQmcr9jmtHV4/L7/P13p9fs8vnm7vdxo9UKYLZL\nisrN3vCuyucsdsAMYbdzpNXl7vfu9Prp8Ph2ptZQjcu1z+nr8vmlxOQze8OCrtrq8fhlm9Hd6fUO\nY7gebbz1+PxtoNRfl8/Z5vPv9PqArNkRZbkqdcDU4/I5fsRZk87y9vuKs9ywy+fG2u5OjMoBWrSY\nvOB+q9kQZLhSj8zO3/C30Ok+gsYNYrd1pdaIstzw9fqDrtoSZblMi8rJ3O+nxuUwecKFsNu91Osj\ncL6Uud/2+fze6fVIiMnP3/AYabsFXbWjw+PS4fFblM5Ni8qSuN4cbLw6f8WyzeicvuG0zug8gMUt\nd8GVut8hb700e8OryOba5/SGsNsie78SAAAAHnRSTlMAAQICAwMEBQYHCAkLDA0OBgkPERMUFQkr\nrejuEgji/EkAAAAAAWJLR0QAiAUdSAAAAAd0SU1FB+MDHRMYD7UTrv8AAAKJSURBVEjHY2AAAkYo\nYMIJYCoYIADEZGZmYWXDC1hZmJlhmkAaWNjYOTg5ufAATk4OdjYWZogeoA42dk5uHl4+fjyAj5eH\nm5OdjRmkBaRDQJBXSFhEVAwPEBURFuIVFADrYWRkYRfnk5CUkiMApCQl+MTZWUBamNk4eSWkCWkA\nAWkJXk6gNUAt7NxCksTokJOTFOJmB2lh4eCRIegqqNtkeDhYQFo4eUWI0yEnJ8LLCdLCJssnSqwW\nUT5ZNkYGJjYufjFitYjxc7ExUU+LvIKikrIK8VpU1dQ1wEBTS5soLTq6ehpwoG9gSFCLipGxBgow\nMVXBp8XM3EIDC9C01MalxcpaAwewscWhxQ6XDg17B1wOc3TCqsHZxRWP9+XdMDS4e3ji9r6rl7ec\nnIMPigZfP3+gTEAgdi1BwRo2IaFycmHhcA0RkVHAmI2O0YiNw6olHqQoITFJTi45BaIjNU1OLj0j\nE8TMwqol2QasLjsnXU4uNy/fuqAQ6KKiLLBgsSV2v6iWlILl4w3KIALlChVgAevKQJwhpl1VDVZT\nU1snJ1dv6g7mNKhp4wwxr8ZQOe+mBrC65pbWYDCjrb1DriNKB7uWTqAnu7rlOnp6EWHc1y8nN2Fi\ngkbwJKxaskFqJk+ZKic3bTokTmbMBEbWrBoQOx+rln6Ik+wnAbNI2Gzj+M45cnL+c+eBBecvwO6X\nDvOFYPkK5UVycouBAmlLYsECS5eZ4U5jyyFOcl6xUk5u1WpIAGgmE8jIYZA0ZrwGmtvWriOiuHCY\njUiUBeuJK2HkVvVBnLdhI5oEvnJs0+b4LVtdMYTJLi3JKMbJqSzIqJLIqPjIqF7JqMRJbyqQ0SAh\np9lDRuOK5CYcAPLjJAZ/NnpnAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTAzLTI5VDExOjI0OjE1\nKzA4OjAwNDsjIQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0wMy0yOVQxMToyNDoxNSswODowMEVm\nm50AAAAASUVORK5CYII="\n    />\n  </svg>\n</div>\n\n<div\n  class="cmenu"\n  style="position:absolute;"\n  [style.top]="config.cmenuPosition.top"\n  [style.right]="config.cmenuPosition.right"\n  [ngStyle]="{\n    display: hide === false ? \'none\' : \'block\'\n  }"\n>\n  <div\n    class="cmenu-top"\n    [style.top]="config.cmenutop.top"\n    [style.right]="config.cmenutop.right"\n    [style.background]="config.cmenutop.background"\n    [style.border]="config.cmenutop.border"\n    [style.width]="config.cmenutop.width"\n    [style.height]="config.cmenutop.height"\n    [style.border-bottom]="config.cmenutop.borderbottom"\n    style="position: absolute; border-radius: 5px 5px 0 0;\n    z-index: 2;cursor: pointer;"\n    (click)="vanish()"\n  >\n    <span\n      [style.background]="config.cmenutop.backgroundImg"\n      [style.background-repeat]="config.cmenutop.backgroundrepeat"\n      [style.background-position]="config.cmenutop.backgroundposition"\n      [style.width]="config.cmenutop.width"\n      [style.height]="config.cmenutop.height"\n      style="display: block;"\n    ></span>\n  </div>\n  <div\n    class="cmenu-body"\n    style=" overflow: hidden; overflow-y: auto;"\n    [style.width]="config.cmenubody.width"\n    [style.max-height]="config.cmenubody.height"\n    [style.border]="config.cmenubody.border"\n    [style.border-radius]="config.cmenubody.borderradius"\n    [style.border-bottom]="config.cmenubody.borderbottom"\n    [style.background]="config.cmenubody.background"\n  >\n    <div>\n      <div\n        *ngFor="let item of config.layers"\n        style="display: flex; justify-content: space-between; margin: 10px 0px; list-style: none;overflow: hidden; "\n        (click)="showitem(item)"\n      >\n        <i\n          [style.width]="config.singleSize.width"\n          [style.height]="config.singleSize.height"\n          [style.background]="item.src"\n          [style.background-size]="config.background.backgroundsize"\n          style=" float: left; padding: 5px 5px; margin: 0 10px;"\n        ></i>\n        <span\n          style=" float: left; padding: 5px 5px; overflow: hidden;"\n          [style.line-height]="config.singleSize.height"\n          [style.font-size]="config.fontStyle.fontSize"\n          [style.width]="config.fontStyle.width"\n        >\n          {{ item.title }}</span\n        >\n        <span\n          style=" float: left;margin: 5px; cursor: pointer;background-size: 70% 70%;"\n          [ngStyle]="{\n            \'background-image\':\n              item.visible === true ? config.select.src : config.unselect.src,\n              \'background-repeat\':\n              item.visible === true ? config.bgStyle.backgroundrepeat : config.bgStyle.backgroundrepeat,\n              \'background-position\':\n              item.visible === true ? config.bgStyle.backgroundposition : config.bgStyle.backgroundposition,\n              \'background-size\':\n              item.visible === true ? config.bgStyle.backgroundsize : config.bgStyle.backgroundsize\n          }"\n          [style.width]="config.select.width"\n          [style.height]="config.select.height"\n        >\n        </span>\n      </div>\n    </div>\n  </div>\n  <div\n    style=" border: 1px solid #005ab4;  border-radius: 0px 0px 5px 5px;  border-top: none;  height: 50px; background: white;"\n  >\n    <div\n      class="all"\n      (click)="allitem()"\n      [ngStyle]="{\n        display: flag === true ? \'none\' : \'block\'\n      }"\n    >\n      全选\n    </div>\n    <div\n      class="all"\n      (click)="cancelitem()"\n      [ngStyle]="{\n        display: flag === false ? \'none\' : \'block\'\n      }"\n    >\n      取消全选\n    </div>\n  </div>\n</div>\n',styles:[".all{bottom:0;background:#005ab4;border-radius:4px;width:150px;height:30px;line-height:30px;text-align:center;left:50%;color:#fff;cursor:pointer;margin:0 auto;-webkit-transform:translate(0,20%);transform:translate(0,20%)}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={outer:[{type:c.Output}],config:[{type:c.Input,args:["config"]}]},e}(),v=function(){function e(){this.stateConfig={coordsField:"point_geometry"},this._visible=this.visible,this._config=this.visible,this._state=this.stateConfig||{},this.initLayer()}return Object.defineProperty(e.prototype,"setStyle",{set:function(e){this.pointLayer.setStyle(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setConfig",{set:function(e){this._config=Object.assign({},this.visible,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setVisible",{set:function(e){this._visible=e,this.updateVisible()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setMap",{set:function(e){e&&(console.log("已绑定 map 组件 实例"),this._map=e,this._map.map.addLayer(this.pointLayer))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setData",{set:function(e){if(e){var t=e,n={wktField:this._state.coordsField};"EPSG:3857"===this._map.config.coordinateSystimSrid&&(t=l.ServiceUtil.ConvertPointsll2tmerc(e,n)),this._data=e,this.pointLayer.clearFeatures(),this.pointLayer.addFeatures(t,n)}},enumerable:!0,configurable:!0}),e.prototype.initLayer=function(){this.pointLayer=new a.PointLayer({layerName:"pointLayer",infoTemplate:"",dataList:[],coordsField:{x:"coordinates",y:"coordinates"}});var e=new r.Style({image:new r.Icon({radius:10,fill:new r.Fill({color:"#ff0000"}),stroke:new r.Stroke({color:"#ff0000",width:2}),anchor:[.5,.5],anchorXUnits:"fraction",anchorYUnits:"fraction",opacity:1,src:"assets/eatting.png"})});this.pointLayer.setStyle(e)},e.prototype.updateVisible=function(){this.pointLayer.setVisible(this._visible)},e.prototype.ngOnInit=function(){},e.decorators=[{type:c.Component,args:[{selector:"tgip-ol-point-layer",template:"",styles:[""]}]}],e.ctorParameters=function(){return[]},e.propDecorators={setStyle:[{type:c.Input,args:["style"]}],setConfig:[{type:c.Input,args:["config"]}],setVisible:[{type:c.Input,args:["visible"]}],setMap:[{type:c.Input,args:["map"]}],setData:[{type:c.Input,args:["data"]}]},e}(),x=function(){function e(){this.defaultConfig={coordsField:"line_geometry",visible:!0},this._config=this.defaultConfig||{},this.initLayer()}return Object.defineProperty(e.prototype,"setStyle",{set:function(e){this.lineLayer.setStyle(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setConfig",{set:function(e){this._config=Object.assign({},this.defaultConfig,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setVisible",{set:function(e){this._visible=e,this.updateVisible()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setMap",{set:function(e){e&&(console.log("已绑定 map 组件 实例"),this._map=e,this._map.map.addLayer(this.lineLayer))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setData",{set:function(e){if(e){var t=e,n={wktField:this._config.coordsField};"EPSG:3857"===this._map.config.coordinateSystimSrid&&(t=l.ServiceUtil.ConvertLinesll2tmerc(e,n)),this._data=e,this.lineLayer.clearFeatures(),this.lineLayer.addFeatures(t,n)}},enumerable:!0,configurable:!0}),e.prototype.initLayer=function(){this.lineLayer=new a.LineLayer({layerName:"lineLayer",infoTemplate:"",dataList:[],coordsField:{x:"coordinates",y:"coordinates"}});var e=new r.Style({stroke:new r.Stroke({color:"rgba(255,0,0,0.6)",width:5})});this.lineLayer.setStyle(e)},e.prototype.updateVisible=function(){this.lineLayer.setVisible(this._visible)},e.prototype.ngOnInit=function(){},e.decorators=[{type:c.Component,args:[{selector:"tgip-ol-line-layer",template:"",styles:[""]}]}],e.ctorParameters=function(){return[]},e.propDecorators={setStyle:[{type:c.Input,args:["style"]}],setConfig:[{type:c.Input,args:["config"]}],setVisible:[{type:c.Input,args:["visible"]}],setMap:[{type:c.Input,args:["map"]}],setData:[{type:c.Input,args:["data"]}]},e}(),w=function(){function e(){this.defaultConfig={coordsField:"polygon_geometry",visible:!0},this._config=this.defaultConfig||{},this.initLayer()}return Object.defineProperty(e.prototype,"setStyle",{set:function(e){this.polygonLayer.setStyle(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setConfig",{set:function(e){this._config=Object.assign({},this.defaultConfig,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setVisible",{set:function(e){this._visible=e,this.updateVisible()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setMap",{set:function(e){e&&(console.log("已绑定 map 组件 实例"),this._map=e,this._map.map.addLayer(this.polygonLayer))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setData",{set:function(e){if(e){var t=e,n={wktField:this._config.coordsField};"EPSG:3857"===this._map.config.coordinateSystimSrid&&(t=l.ServiceUtil.ConvertPolygonsll2tmerc()(e,n)),this._data=e,this.polygonLayer.clearFeatures(),this.polygonLayer.addFeatures(t,n)}},enumerable:!0,configurable:!0}),e.prototype.initLayer=function(){this.polygonLayer=new a.PolygonLayer({layerName:"polygonLayer",infoTemplate:"",dataList:[],coordsField:{x:"coordinates",y:"coordinates"}});var e=new r.Style({fill:new r.Fill({color:"rgba(255,099,49,0.6)"}),stroke:new r.Stroke({color:"rgba(255,0,0,0.6)",width:3})});this.polygonLayer.setStyle(e)},e.prototype.updateVisible=function(){this.polygonLayer.setVisible(this._visible)},e.prototype.ngOnInit=function(){},e.decorators=[{type:c.Component,args:[{selector:"tgip-ol-polygon-layer",template:"",styles:[""]}]}],e.ctorParameters=function(){return[]},e.propDecorators={setStyle:[{type:c.Input,args:["style"]}],setConfig:[{type:c.Input,args:["config"]}],setVisible:[{type:c.Input,args:["visible"]}],setMap:[{type:c.Input,args:["map"]}],setData:[{type:c.Input,args:["data"]}]},e}(),k=function(){function e(){this.defaultConfig={},this.config=this.defaultConfig}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},set:function(e){this._config=Object.assign({},this.defaultConfig,e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.decorators=[{type:c.Component,args:[{selector:"tgip-ol-compass",template:'<div style="position: absolute" [style.width]="config.size.width" [style.height]="config.size.height"\n  [style.background]="config.background" [style.display]="config.visible" [style.top]="config.position.top"\n  [style.left]="config.position.left" [style.right]="config.position.right" [style.bottom]="config.position.bottom">\n  <img src="{{config.image.src }}" style="width: 100%;" />\n</div>',styles:[""]}]}],e.ctorParameters=function(){return[]},e.propDecorators={config:[{type:c.Input,args:["config"]}]},e}(),S=function(){function e(){this.defaultConfig={},this.config=this.defaultConfig}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},set:function(e){this._config=Object.assign({},this.defaultConfig,e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.decorators=[{type:c.Component,args:[{selector:"tgip-ol-heatmap-legend",template:'<div style="position: absolute;" [style.display]="config.visible" [style.top]="config.position.top"\n  [style.left]="config.position.left" [style.right]="config.position.right" [style.bottom]="config.position.bottom">\n\n  <div style="display: flex;">\n    <div *ngFor="let item of config.datas; let i = index">\n      <div style="border: 2px solid #fff; text-align: center" [style.background]="item.background"\n        [style.width]="config.size.width" [style.line-height]="config.size.height" [style.height]="config.size.height"\n        [style.color]="config.color">\n        {{item.title}}</div>\n    </div>\n  </div>\n\n</div>',styles:[""]}]}],e.ctorParameters=function(){return[]},e.propDecorators={config:[{type:c.Input,args:["config"]}]},e}(),A=function(){function e(){this.defaultConfig={},this.config=this.defaultConfig}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},set:function(e){this._config=Object.assign({},this.defaultConfig,e)},enumerable:!0,configurable:!0}),e.prototype.show=function(){this.hide=!1},e.prototype.vanish=function(){this.hide=!0},e.prototype.mouseenter=function(){this.flag=!0},e.prototype.mouseleave=function(){this.flag=!1},e.prototype.ngOnInit=function(){this.hide=!1,this.flag=!1},e.decorators=[{type:c.Component,args:[{selector:"tgip-ol-scenic-legend",template:'<div style="position: absolute" [style.width]="config.openStyle.size.width"\n  [style.height]="config.openStyle.size.height" \n  [style.top]="config.openStyle.position.top"\n  [style.left]="config.openStyle.position.left" \n  [style.right]="config.openStyle.position.right"\n  [style.bottom]="config.openStyle.position.bottom"\n  (click)="vanish()" [ngStyle]="{\n  display: hide === true ? \'none\' : \'block\'\n}">\n  <img src="{{config.openStyle.openImage}}" style="width: 100%;" />\n</div>\n<div [ngStyle]="{\n  display: hide === false ? \'none\' : \'block\'\n}">\n  <div (mouseenter)="mouseenter()" (mouseleave)="mouseleave()" style="position: absolute;padding: 0px;"\n  [style.top]="config.openStyle.position.top"\n  [style.left]="config.openStyle.position.left" \n  [style.right]="config.openStyle.position.right"\n  [style.bottom]="config.openStyle.position.bottom">\n    <div (click)="show()" style="width: 20px;  position: relative;  top: 5px;  right: 5px;  float: right;" [ngStyle]="{\n    display: flag === false ? \'none\' : \'block\'\n  }">\n      <img src="{{config.closeStyle.closeImage}}" style="width: 100%;" />\n    </div>\n    <div style="padding: 0px;" [style.background]="config.background" [style.width]="config.size.width"\n      [style.height]="config.size.height">\n      <div [style.border]="config.border">\n        <div style="margin: 10px;" [style.border-bottom]="config.border" [style.color]="config.gradestyle.color">\n          {{config.title}}\n        </div>\n        \x3c!-- colorType --\x3e\n        <div style="margin: 10px;" [ngStyle]="{\n          display: config.datas0[0].visible === \'false\' ? \'none\' : \'block\'\n        }">\n          <p [style.color]="config.datas0[0].titleStyle.color">{{config.datas0[0].title}}</p>\n          <div *ngFor="let item of config.datas0[0].data; let i = index" style="margin-bottom: 10px;"\n            [style.height]="config.gradestyle.height" [style.line-height]="config.gradestyle.height">\n            <div style="border-radius: 5px;float: left;margin-right: 20px;" [style.background]="item.value"\n              [style.height]="config.gradestyle.height" [style.width]="config.gradestyle.width"></div>\n            <div [style.color]="config.datas1[0].color" [style.height]="config.gradestyle.height">{{item.name}}</div>\n          </div>\n        </div>\n        \x3c!-- colorNum --\x3e\n        <div style="margin: 10px;"\n        [ngStyle]="{\n          display: config.datas1[0].visible === \'false\' ? \'none\' : \'block\'\n        }">\n          <p [style.color]="config.datas1[0].titleStyle.color">{{config.datas1[0].title}}</p>\n          <div style="margin-bottom: 10px;display: flex;" [style.height]="config.numberstyle.height"\n            [style.line-height]="config.numberstyle.height">\n            <span *ngFor="let item of config.datas1[0].data; let i = index" style="border-radius: 5px;float: left;"\n              [style.background]="item.value" [style.width]="config.numberstyle.width"\n              [style.height]="config.numberstyle.height"></span>\n          </div>\n          <div style="margin-bottom: 10px; display: flex;" [style.height]="config.numberstyle.height"\n            [style.line-height]="config.numberstyle.height">\n            <span *ngFor="let item of config.datas1[0].data; let i = index" style="  float: left; text-align: left"\n              [style.color]="config.datas1[0].color" [style.width]="config.numberstyle.width"\n              [style.line-height]="config.numberstyle.height">{{item.name}}</span>\n          </div>\n        </div>\n        \x3c!-- iconType --\x3e\n        <div style="margin: 10px; overflow: hidden;"\n        [ngStyle]="{\n          display: config.datas2[0].visible === \'false\' ? \'none\' : \'block\'\n        }">\n          <p [style.color]="config.datas1[0].titleStyle.color">{{config.datas2[0].title}}</p>\n          <div style="width: 50%; float: left;">\n            <div *ngFor="let item of config.datas2[0].data; let i = index" style="margin-bottom: 10px; float: left;"\n              [style.height]="config.Iconstyle.height" [style.line-height]="config.Iconstyle.height">\n              <span style=" float: left;"  [style.height]="config.Iconstyle.height" [style.width]="config.Iconstyle.width"> <img src="{{item.src}}"\n                  style="width: 100%;" /></span>\n              <span style="  float: left; text-align: center" [style.color]="config.datas1[0].color"\n                [style.width]="config.Iconstyle.width"\n                [style.line-height]="config.Iconstyle.height">{{item.name}}</span>\n            </div>\n          </div>\n          <div style="width: 50%; float: left;">\n            <div *ngFor="let item of config.datas2[0].data; let i = index" style="margin-bottom: 10px; float: left;"\n              [style.height]="config.Iconstyle.height" [style.line-height]="config.Iconstyle.height">\n              <span style=" float: left;"  [style.height]="config.Iconstyle.height" [style.width]="config.Iconstyle.width"> <img src="{{item.src}}"\n                  style="width: 100%;" /></span>\n              <span style="  float: left; text-align: center" [style.color]="config.datas1[0].color"\n                [style.width]="config.Iconstyle.width"\n                [style.line-height]="config.Iconstyle.height">{{item.name}}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>',styles:[""]}]}],e.ctorParameters=function(){return[]},e.propDecorators={config:[{type:c.Input,args:["config"]}]},e}(),C=function(){function e(){this.mySwiper={},this.defaultConfig={},this.config=this.defaultConfig}return Object.defineProperty(e.prototype,"setMap",{set:function(e){e&&(console.log("已绑定 map 组件 实例"),this.map=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this._config},set:function(e){this._config=Object.assign({},this.defaultConfig,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sw",{get:function(){return this._swiper},set:function(e){this._swiper=Object.assign({},this.mySwiper,e),console.log(e),this.initSwiper()},enumerable:!0,configurable:!0}),e.prototype.initSwiper=function(){this.mySwiper=this._swiper},e.prototype.ngOnInit=function(){this.initSwiper(),this.content=document.getElementById("popup-content"),this.container=document.getElementById("popup"),this.closer=document.getElementById("popup-closer"),this.overlay=new p({element:this.container,autoPan:!0,autoPanAnimation:{duration:250}});var n=this;this.closer.onclick=function(){return n.overlay.setPosition(undefined),n.closer.blur(),!1},this.map.addOverlay(this.overlay),this.map.on("click",function(e){var t=e.coordinate;n.overlay.setPosition(t)})},e.decorators=[{type:c.Component,args:[{selector:"tgip-ol-scenic-box",template:'<div id="popup" class="ol-popup" [style.background]="config.background">\n  <a href="#" id="popup-closer" class="ol-popup-closer"></a>\n  <div>\n    <div class="swiper-container" [swiper]="mySwiper">\n      <div class="swiper-wrapper">\n        <div class="swiper-slide" *ngFor="let item of config.data">\n          <img src="{{ item.src }}" class="poimg" />\n        </div>\n      </div>\n      <div class="swiper-pagination"></div>\n      <div class="swiper-button-prev"></div>\n      <div class="swiper-button-next"></div>\n    </div>\n    <div>\n      <p\n        [style.color]="config.titleStyle.color"\n        [style.font-size]="config.titleStyle.fontSize"\n      >\n        {{ config.title }}\n      </p>\n      <p\n        class="starLevel"\n        [style.width]="config.starLevel.width"\n        [style.background]="config.starLevel.background"\n        [ngStyle]="{\n          display: config.showGrade === \'false\' ? \'none\' : \'block\'\n        }"\n      >\n        {{ config.starLevel.name }}\n      </p>\n      <div\n        [ngStyle]="{\n          display: config.showDetails === \'false\' ? \'none\' : \'block\'\n        }"\n      >\n        <div\n          style="display: flex; margin: 10px 0px;"\n          [style.color]="config.detailsStyle.color"\n          [style.font-size]="config.detailsStyle.fontSize"\n          *ngFor="let item of config.data1"\n        >\n          <div class="listTitle">{{ item.name }}：</div>\n          <div class="listgrade">{{ item.value }}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div id="popup-content"></div>\n</div>\n',styles:[".ol-popup{position:absolute;-webkit-filter:drop-shadow(0 1px 4px rgba(0, 0, 0, .2));filter:drop-shadow(0 1px 4px rgba(0, 0, 0, .2));padding:15px;border:1px solid #ccc;bottom:12px;left:-155px;width:280px}.ol-popup:after,.ol-popup:before{top:100%;border:solid transparent;content:' ';height:0;width:0;position:absolute;pointer-events:none}.ol-popup:after{border-top-color:#fff;border-width:10px;left:50%;margin-left:-10px}.ol-popup:before{border-top-color:#ccc;border-width:11px;left:50%;margin-left:-11px}.ol-popup-closer{text-decoration:none;position:absolute;color:#fff;top:-15px;right:-15px;background:#0065b3;width:30px;height:30px;text-align:center;line-height:30px;border-radius:50%}.ol-popup-closer:after{content:'✖'}.poimg{width:100%;height:100%}.starLevel{border-radius:3px;height:24px;margin:5px auto;font-family:黑体;font-size:18px;color:#fff;text-align:center;line-height:24px;padding:0 5px}.listTitle{width:70px}.listgrade{width:260px}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={setMap:[{type:c.Input,args:["map"]}],config:[{type:c.Input,args:["config"]}],sw:[{type:c.Input,args:["sw"]}]},e}(),z=function(){function e(){this.mySwiper={},this.defaultConfig={title:"苏A123456",titleStyle:{background:"gainsboro",fontSize:"18px",color:"#000"},dataStyle:{fontSize:"16px",color:"#000"},data:[{name:"车牌号码：苏A123456"},{name:"车牌号码：苏A123456"},{name:"车牌号码：苏A123456"},{name:"车牌号码：苏A123456"},{name:"车牌号码：苏A123456"},{name:"车牌号码：苏A123456"}]},this.config=this.defaultConfig}return Object.defineProperty(e.prototype,"setMap",{set:function(e){e&&(console.log("已绑定 map 组件 实例"),this.map=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this._config},set:function(e){this._config=Object.assign({},this.defaultConfig,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sw",{get:function(){return this._swiper},set:function(e){this._swiper=Object.assign({},this.mySwiper,e),console.log(e),this.initSwiper()},enumerable:!0,configurable:!0}),e.prototype.initSwiper=function(){this.mySwiper=this._swiper},e.prototype.ngOnInit=function(){this.initSwiper(),this.content=document.getElementById("popup-content"),this.container=document.getElementById("popup"),this.closer=document.getElementById("popup-closer"),this.overlay=new p({element:this.container,autoPan:!0,autoPanAnimation:{duration:250}});var n=this;this.closer.onclick=function(){return n.overlay.setPosition(undefined),n.closer.blur(),!1},this.map.addOverlay(this.overlay),this.map.on("click",function(e){var t=e.coordinate;n.overlay.setPosition(t)})},e.decorators=[{type:c.Component,args:[{selector:"tgip-ol-spot-box",template:'<div id="popup" class="ol-popup">\n  <a href="#" id="popup-closer" class="ol-popup-closer"></a>\n  <div id="popup-content">\n    <div>\n      <div\n        class="titleStyle"\n        [style.background]="config.titleStyle.background"\n        [style.color]="config.titleStyle.color"\n        [style.font-size]="config.titleStyle.fontSize"\n      >\n        {{ config.title }}\n      </div>\n      <div class="bodyStyle">\n        <ul\n          style=" padding: 0;width: 100%; height: 100%; overflow: hidden;"\n          [style.color]="config.dataStyle.color"\n          [style.font-size]="config.dataStyle.fontSize"\n        >\n          <li *ngFor="let item of config.data">\n            {{ item.name }}\n          </li>\n        </ul>\n      </div>\n      <div style=" width: 220px;margin: 0 auto;margin-bottom: 15px;">\n        <button class="footButton">当日轨迹</button>\n        <button class="footButton">发送消息</button>\n      </div>\n    </div>\n  </div>\n</div>\n',styles:[".ol-popup{position:absolute;background-color:#fff;-webkit-filter:drop-shadow(0 1px 4px rgba(0, 0, 0, .2));filter:drop-shadow(0 1px 4px rgba(0, 0, 0, .2));border:1px solid #ccc;bottom:12px;left:-225px;width:450px}.ol-popup:after,.ol-popup:before{top:100%;border:solid transparent;content:' ';height:0;width:0;position:absolute;pointer-events:none}.ol-popup:after{border-top-color:#fff;border-width:10px;left:50%;margin-left:-10px}.ol-popup:before{border-top-color:#ccc;border-width:11px;left:50%;margin-left:-11px}.ol-popup-closer{text-decoration:none;position:absolute;top:2px;right:8px}.ol-popup-closer:after{content:'✖'}.titleStyle{height:40px;line-height:40px;padding-left:20px}.bodyStyle{height:auto;background:#fff;margin:0 30px;overflow:hidden}.bodyStyle ul li{float:left;width:170px;list-style:none;margin:5px 12px}.footButton{width:80px;height:30px;outline:0;background:#fff;color:#21aa93;border:1px solid #21aa93;border-radius:5px;margin:0 15px;cursor:pointer}.footButton:active{background:#21aa93;color:#fff}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={setMap:[{type:c.Input,args:["map"]}],config:[{type:c.Input,args:["config"]}],sw:[{type:c.Input,args:["sw"]}]},e}(),O={direction:"horizontal",slidesPerView:"auto"},I=function(){function e(){}return e.decorators=[{type:c.NgModule,args:[{declarations:[f,g,d,u,y,h,b,m,v,x,w,k,S,A,C,z],imports:[i.SwiperModule],providers:[{provide:i.SWIPER_CONFIG,useValue:O}],exports:[f,g,d,u,y,h,b,m,v,x,w,k,S,A,C,z]}]}],e}();e.TgipOpenlayersModule=I,e.FullScreenComponent=g,e.SwitcherMapComponent=d,e.ZoomMapComponent=u,e.FullExtentComponent=f,e.MapComponent=y,e.LayerControlPc1Component=h,e.LayerControlPc2Component=b,e.LayerControlPc3Component=m,e.PointLayerComponent=v,e.LineLayerComponent=x,e.PolygonLayerComponent=w,e.CompassComponent=k,e.HeatmapLegendComponent=S,e.ScenicLegendComponent=A,e.ScenicBoxComponent=C,e.SpotBoxComponent=z,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=tgip-openlayers.umd.min.js.map